<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Shuaiwen Cui"><link href=https://shuaiwen-cui.github.io/ESP_STUDY/CHEATING_SHEET/FREERTOS/freertos/ rel=canonical><link rel=alternate type=application/rss+xml title="RSS feed" href=../../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../../feed_rss_updated.xml><link rel=icon href=../../../static/images/logo.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>FREERTOS - ESP_STUDY</title><link rel=stylesheet href=../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><style>:root{.md-tag.md-tag--default-tag{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M32.5%2096v149.5c0%2017%206.7%2033.3%2018.7%2045.3l192%20192c25%2025%2065.5%2025%2090.5%200l149.5-149.5c25-25%2025-65.5%200-90.5l-192-192C279.2%2038.7%20263%2032%20246%2032H96.5c-35.3%200-64%2028.7-64%2064m112%2016a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64%22/%3E%3C/svg%3E');}.md-tag.md-tag--hardware-tag{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M176%2024c0-13.3-10.7-24-24-24s-24%2010.7-24%2024v40c-35.3%200-64%2028.7-64%2064H24c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h40v56H24c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h40v56H24c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h40c0%2035.3%2028.7%2064%2064%2064v40c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24v-40h56v40c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24v-40h56v40c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24v-40c35.3%200%2064-28.7%2064-64h40c13.3%200%2024-10.7%2024-24s-10.7-24-24-24h-40v-56h40c13.3%200%2024-10.7%2024-24s-10.7-24-24-24h-40v-56h40c13.3%200%2024-10.7%2024-24s-10.7-24-24-24h-40c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24%2010.7-24%2024v40h-56V24c0-13.3-10.7-24-24-24s-24%2010.7-24%2024v40h-56zm-16%20104h192c17.7%200%2032%2014.3%2032%2032v192c0%2017.7-14.3%2032-32%2032H160c-17.7%200-32-14.3-32-32V160c0-17.7%2014.3-32%2032-32m16%2048v160h160V176z%22/%3E%3C/svg%3E');}.md-tag.md-tag--software-tag{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M64%2096c0-35.3%2028.7-64%2064-64h384c35.3%200%2064%2028.7%2064%2064v240h-64V96H128v240H64zM0%20403.2C0%20392.6%208.6%20384%2019.2%20384h601.6c10.6%200%2019.2%208.6%2019.2%2019.2%200%2042.4-34.4%2076.8-76.8%2076.8H76.8C34.4%20480%200%20445.6%200%20403.2M281%20209l-31%2031%2031%2031c9.4%209.4%209.4%2024.6%200%2033.9s-24.6%209.4-33.9%200l-48-48c-9.4-9.4-9.4-24.6%200-33.9l48-48c9.4-9.4%2024.6-9.4%2033.9%200s9.4%2024.6%200%2033.9zm112-34%2048%2048c9.4%209.4%209.4%2024.6%200%2033.9l-48%2048c-9.4%209.4-24.6%209.4-33.9%200s-9.4-24.6%200-33.9l31-31-31-31c-9.4-9.4-9.4-24.6%200-33.9s24.6-9.4%2033.9%200z%22/%3E%3C/svg%3E');}}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#freertos class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=ESP_STUDY class="md-header__button md-logo" aria-label=ESP_STUDY data-md-component=logo> <img src=../../../static/images/mainboard.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ESP_STUDY </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> FREERTOS </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=./ hreflang=en class=md-select__link> English </a> </li> <li class=md-select__item> <a href=../../../zh/CHEATING_SHEET/FREERTOS/freertos/ hreflang=zh class=md-select__link> 简体中文 </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 256 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Shuaiwen-Cui/ESP_STUDY.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> Shuaiwen-Cui/ESP_STUDY </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> ESP32 </a> </li> <li class=md-tabs__item> <a href=../../../GET_STARTED/HARDWARE/hardware/ class=md-tabs__link> GET STARTED </a> </li> <li class=md-tabs__item> <a href=../../../TUTORIAL_STUDY/DURUOFU/duruofu/ class=md-tabs__link> TUTORIAL STUDY </a> </li> <li class=md-tabs__item> <a href=../../../COMMUNICATION/communication/ class=md-tabs__link> COMMUNICATION </a> </li> <li class=md-tabs__item> <a href=../../../FREERTOS/quickstart/ class=md-tabs__link> FREERTOS </a> </li> <li class=md-tabs__item> <a href=../../../MATH-DSP-AI/math-dsp-ai/ class=md-tabs__link> MATH-DSP-AI </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=ESP_STUDY class="md-nav__button md-logo" aria-label=ESP_STUDY data-md-component=logo> <img src=../../../static/images/mainboard.png alt=logo> </a> ESP_STUDY </label> <div class=md-nav__source> <a href=https://github.com/Shuaiwen-Cui/ESP_STUDY.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> Shuaiwen-Cui/ESP_STUDY </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> ESP32 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> GET STARTED </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> GET STARTED </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../GET_STARTED/HARDWARE/hardware/ class=md-nav__link> <span class=md-ellipsis> HARDWARE </span> </a> </li> <li class=md-nav__item> <a href=../../../GET_STARTED/ENVIRONMENT/environment/ class=md-nav__link> <span class=md-ellipsis> ENVIRONMENT </span> </a> </li> <li class=md-nav__item> <a href=../../../GET_STARTED/HANDS-ON/hands-on/ class=md-nav__link> <span class=md-ellipsis> HANDS-ON </span> </a> </li> <li class=md-nav__item> <a href=../../../GET_STARTED/TEMPLATE/template/ class=md-nav__link> <span class=md-ellipsis> TEMPLATE </span> </a> </li> <li class=md-nav__item> <a href=../../../GET_STARTED/COMMON-COMMAND/common-command/ class=md-nav__link> <span class=md-ellipsis> COMMON-COMMANDS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> TUTORIAL STUDY </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> TUTORIAL STUDY </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../TUTORIAL_STUDY/DURUOFU/duruofu/ class=md-nav__link> <span class=md-ellipsis> DURUOFU </span> </a> </li> <li class=md-nav__item> <a href=../../../TUTORIAL_STUDY/MORNINGCORE/morningcore/ class=md-nav__link> <span class=md-ellipsis> MORNINGCORE </span> </a> </li> <li class=md-nav__item> <a href=../../../TUTORIAL_STUDY/LICHUANG/lichuang/ class=md-nav__link> <span class=md-ellipsis> LICHUANG </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> COMMUNICATION </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> COMMUNICATION </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../COMMUNICATION/communication/ class=md-nav__link> <span class=md-ellipsis> COMMUNICATION </span> </a> </li> <li class=md-nav__item> <a href=../../../COMMUNICATION/BLUETOOTH/bluetooth/ class=md-nav__link> <span class=md-ellipsis> BLUETOOTH </span> </a> </li> <li class=md-nav__item> <a href=../../../COMMUNICATION/WIFI/wifi/ class=md-nav__link> <span class=md-ellipsis> WIFI </span> </a> </li> <li class=md-nav__item> <a href=../../../COMMUNICATION/MQTT/mqtt/ class=md-nav__link> <span class=md-ellipsis> MQTT </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> FREERTOS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> FREERTOS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../FREERTOS/quickstart/ class=md-nav__link> <span class=md-ellipsis> QUICK START </span> </a> </li> <li class=md-nav__item> <a href=../../../FREERTOS/MULTITASK/multitask/ class=md-nav__link> <span class=md-ellipsis> MULTITASK </span> </a> </li> <li class=md-nav__item> <a href=../../../FREERTOS/QUEUE/queue/ class=md-nav__link> <span class=md-ellipsis> QUEUE </span> </a> </li> <li class=md-nav__item> <a href=../../../FREERTOS/SEMAPHORE/semaphore/ class=md-nav__link> <span class=md-ellipsis> SEMAPHORE </span> </a> </li> <li class=md-nav__item> <a href=../../../FREERTOS/MUTEX/mutex/ class=md-nav__link> <span class=md-ellipsis> MUTEX </span> </a> </li> <li class=md-nav__item> <a href=../../../FREERTOS/EVENT-GROUP/event-group/ class=md-nav__link> <span class=md-ellipsis> EVENT GROUP </span> </a> </li> <li class=md-nav__item> <a href=../../../FREERTOS/TASK-NOTIFICATION/task-notification/ class=md-nav__link> <span class=md-ellipsis> TASK NOTIFICATION </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> MATH-DSP-AI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> MATH-DSP-AI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../MATH-DSP-AI/math-dsp-ai/ class=md-nav__link> <span class=md-ellipsis> MATH DSP AI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#task-creation class=md-nav__link> <span class=md-ellipsis> TASK CREATION </span> </a> <nav class=md-nav aria-label="TASK CREATION"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#xtaskcreatepinnedtocore class=md-nav__link> <span class=md-ellipsis> xTaskCreatePinnedToCore </span> </a> </li> <li class=md-nav__item> <a href=#xtaskcreatestaticpinnedtocore class=md-nav__link> <span class=md-ellipsis> xTaskCreateStaticPinnedToCore </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#delay-and-blocking class=md-nav__link> <span class=md-ellipsis> DELAY AND BLOCKING </span> </a> <nav class=md-nav aria-label="DELAY AND BLOCKING"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vtaskdelay class=md-nav__link> <span class=md-ellipsis> vTaskDelay </span> </a> </li> <li class=md-nav__item> <a href=#vtaskdelayuntil class=md-nav__link> <span class=md-ellipsis> vTaskDelayUntil </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#inter-task-synchronization class=md-nav__link> <span class=md-ellipsis> Inter-task synchronization </span> </a> </li> <li class=md-nav__item> <a href=#queue class=md-nav__link> <span class=md-ellipsis> Queue </span> </a> <nav class=md-nav aria-label=Queue> <ul class=md-nav__list> <li class=md-nav__item> <a href=#xqueuecreate class=md-nav__link> <span class=md-ellipsis> xQueueCreate </span> </a> </li> <li class=md-nav__item> <a href=#xqueuesend class=md-nav__link> <span class=md-ellipsis> xQueueSend </span> </a> </li> <li class=md-nav__item> <a href=#xqueuesendtoback class=md-nav__link> <span class=md-ellipsis> xQueueSendToBack </span> </a> </li> <li class=md-nav__item> <a href=#xqueuereceive class=md-nav__link> <span class=md-ellipsis> xQueueReceive </span> </a> </li> <li class=md-nav__item> <a href=#xqueuesendfromisr class=md-nav__link> <span class=md-ellipsis> xQueueSendFromISR </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#semaphore class=md-nav__link> <span class=md-ellipsis> Semaphore </span> </a> <nav class=md-nav aria-label=Semaphore> <ul class=md-nav__list> <li class=md-nav__item> <a href=#xsemaphorecreatebinary class=md-nav__link> <span class=md-ellipsis> xSemaphoreCreateBinary </span> </a> </li> <li class=md-nav__item> <a href=#xsemaphorecreatecounting class=md-nav__link> <span class=md-ellipsis> xSemaphoreCreateCounting </span> </a> </li> <li class=md-nav__item> <a href=#xsemaphorecreatemutex class=md-nav__link> <span class=md-ellipsis> xSemaphoreCreateMutex </span> </a> </li> <li class=md-nav__item> <a href=#xsemaphoretake class=md-nav__link> <span class=md-ellipsis> xSemaphoreTake </span> </a> </li> <li class=md-nav__item> <a href=#xsemaphoregive class=md-nav__link> <span class=md-ellipsis> xSemaphoreGive </span> </a> </li> <li class=md-nav__item> <a href=#xsemaphoredelete class=md-nav__link> <span class=md-ellipsis> xSemaphoreDelete </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-groups-and-direct-task-notifications class=md-nav__link> <span class=md-ellipsis> Event Groups and Direct Task Notifications </span> </a> <nav class=md-nav aria-label="Event Groups and Direct Task Notifications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#xeventgroupcreate class=md-nav__link> <span class=md-ellipsis> xEventGroupCreate </span> </a> </li> <li class=md-nav__item> <a href=#xeventgroupwaitbits class=md-nav__link> <span class=md-ellipsis> xEventGroupWaitBits </span> </a> </li> <li class=md-nav__item> <a href=#xeventgroupsetbits class=md-nav__link> <span class=md-ellipsis> xEventGroupSetBits </span> </a> </li> <li class=md-nav__item> <a href=#xeventgroupclearbits class=md-nav__link> <span class=md-ellipsis> xEventGroupClearBits </span> </a> </li> <li class=md-nav__item> <a href=#xtasknotify class=md-nav__link> <span class=md-ellipsis> xTaskNotify </span> </a> </li> <li class=md-nav__item> <a href=#xtasknotifywait class=md-nav__link> <span class=md-ellipsis> xTaskNotifyWait </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/Shuaiwen-Cui/ESP_STUDY.git/edit/master/docs/CHEATING_SHEET/FREERTOS/freertos.en.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/Shuaiwen-Cui/ESP_STUDY.git/raw/master/docs/CHEATING_SHEET/FREERTOS/freertos.en.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=freertos>FREERTOS<a class=headerlink href=#freertos title="Permanent link">&para;</a></h1> <h2 id=task-creation>TASK CREATION<a class=headerlink href=#task-creation title="Permanent link">&para;</a></h2> <h3 id=xtaskcreatepinnedtocore>xTaskCreatePinnedToCore<a class=headerlink href=#xtaskcreatepinnedtocore title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xTaskCreatePinnedToCore</span><span class=p>(</span><span class=n>TaskFunction_t</span><span class=w> </span><span class=n>pxTaskCode</span><span class=p>,</span><span class=w> </span><span class=c1>// Task function pointer</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>pcName</span><span class=p>,</span><span class=w> </span><span class=c1>// Task name</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=k>const</span><span class=w> </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>usStackDepth</span><span class=p>,</span><span class=w> </span><span class=c1>// Task stack size</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>pvParameters</span><span class=p>,</span><span class=w> </span><span class=c1>// Task parameters</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>UBaseType_t</span><span class=w> </span><span class=n>uxPriority</span><span class=p>,</span><span class=w> </span><span class=c1>// Task priority</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>TaskHandle_t</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>pxCreatedTask</span><span class=p>,</span><span class=w> </span><span class=c1>// Task handle</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=k>const</span><span class=w> </span><span class=n>BaseType_t</span><span class=w> </span><span class=n>xCoreID</span><span class=p>);</span><span class=w> </span><span class=c1>// Core ID</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p>In ESP-IDF (ESP32 Development Framework), <code>xTaskCreatePinnedToCore</code> is a function used to create a task and pin it to a specified CPU core. ESP32 is a dual-core microcontroller (ESP32-S series is single-core) with two processing cores: Core 0 and Core 1. This function helps developers pin tasks to specific cores for better CPU load management and real-time performance management.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>pxTaskCode</code>: Task function pointer. It points to the function to be executed in the new task, which is usually defined in the format of <code>void function_name(void *pvParameters)</code>, where <code>pvParameters</code> are the parameters passed to the task.</li> <li><code>pcName</code>: The name string of the task, usually used for debugging and monitoring. You can use a string name that is easy to identify.</li> <li><code>usStackDepth</code>: The size of the task stack in words (4 bytes). The stack size should be set according to the stack space required in the task.</li> <li><code>pvParameters</code>: The parameter pointer passed to the task function. If the task function does not require parameters, it can be set to <code>NULL</code>.</li> <li><code>uxPriority</code>: The priority of the task. The larger the value, the higher the priority. The range of priority that can be set in ESP-IDF is 0 to 24.</li> <li><code>pxCreatedTask</code>: The pointer to the task handle, used to receive the handle of the created task. If a task handle is not needed, it can be set to <code>NULL</code>.</li> <li><code>xCoreID</code>: <code>0</code>: bound to core 0 (primary core). <code>1</code>: bound to core 1. <code>tskNO_AFFINITY</code>: not bound to a specific core, allowing FreeRTOS to schedule the task on any core.</li> </ul> <blockquote> <p>Return Value</p> </blockquote> <ul> <li><code>pdPASS</code>: Task creation was successful.</li> <li><code>pdFAIL</code>: Task creation failed.</li> </ul> <blockquote> <p>Example</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;freertos/FreeRTOS.h&quot;</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;freertos/task.h&quot;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=c1>// Define task function</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=kt>void</span><span class=w> </span><span class=nf>myTask</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvParameters</span><span class=p>)</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=p>{</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=p>{</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Hello from myTask on Core 0</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=n>vTaskDelay</span><span class=p>(</span><span class=n>pdMS_TO_TICKS</span><span class=p>(</span><span class=mi>1000</span><span class=p>));</span><span class=w> </span><span class=c1>// Delay 1 second</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=p>}</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=p>}</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=kt>void</span><span class=w> </span><span class=nf>app_main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=p>{</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=c1>// Create a task and pin it to core 0</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=n>xTaskCreatePinnedToCore</span><span class=p>(</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=n>myTask</span><span class=p>,</span><span class=w> </span><span class=c1>// Task function</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=s>&quot;MyTask&quot;</span><span class=p>,</span><span class=w> </span><span class=c1>// Task name</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=mi>2048</span><span class=p>,</span><span class=w> </span><span class=c1>// Task stack size</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>// Task parameters</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=c1>// Task priority</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>// Task handle</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=mi>0</span><span class=w> </span><span class=c1>// Core ID (0 means bound to core 0)</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=p>);</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=p>}</span>
</span></code></pre></div> <h3 id=xtaskcreatestaticpinnedtocore>xTaskCreateStaticPinnedToCore<a class=headerlink href=#xtaskcreatestaticpinnedtocore title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>TaskHandle_t</span><span class=w> </span><span class=nf>xTaskCreateStaticPinnedToCore</span><span class=p>(</span><span class=n>TaskFunction_t</span><span class=w> </span><span class=n>pxTaskCode</span><span class=p>,</span><span class=w> </span><span class=c1>// Task function pointer</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>const</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>pcName</span><span class=p>,</span><span class=w> </span><span class=c1>// Task name</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=k>const</span><span class=w> </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>ulStackDepth</span><span class=p>,</span><span class=w> </span><span class=c1>// Task stack size</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>pvParameters</span><span class=p>,</span><span class=w> </span><span class=c1>// Task parameters</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=n>UBaseType_t</span><span class=w> </span><span class=n>uxPriority</span><span class=p>,</span><span class=w> </span><span class=c1>// Task priority</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=n>StackType_t</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>puxStackBuffer</span><span class=p>,</span><span class=w> </span><span class=c1>// Points to the available memory area of ​​the stack space</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=n>StaticTask_t</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>pxTaskBuffer</span><span class=p>,</span><span class=w> </span><span class=c1>// Points to the available memory area of ​​the task description</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=k>const</span><span class=w> </span><span class=n>BaseType_t</span><span class=w> </span><span class=n>xCoreID</span><span class=p>);</span><span class=w> </span><span class=c1>// Core ID</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xTaskCreateStaticPinnedToCore</code> is a function used to create a task and pin the task to a specified CPU core. Unlike <code>xTaskCreatePinnedToCore</code>, <code>xTaskCreateStaticPinnedToCore</code> allows the user to provide the task's stack space and the memory area of ​​the task descriptor. This allows for better control over the memory allocation and management of the task.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>pxTaskCode</code>: Task function pointer. It points to the function to be executed in the new task, which is usually defined in the format of <code>void function_name(void *pvParameters)</code>, where <code>pvParameters</code> are the parameters passed to the task.</li> <li><code>pcName</code>: The name string of the task, usually used for debugging and monitoring. You can use a string name that is easy to identify.</li> <li><code>ulStackDepth</code>: The size of the task stack, in words (4 bytes). The stack size should be set according to the stack space required in the task.</li> <li><code>pvParameters</code>: The parameter pointer passed to the task function. If the task function does not require parameters, it can be set to <code>NULL</code>.</li> <li><code>uxPriority</code>: The priority of the task. The larger the value, the higher the priority. The priority in ESP-IDF can be set in the range of 0 to 24.</li> <li><code>puxStackBuffer</code>: Pointer to the statically allocated task stack. The stack memory needs to be allocated in advance and passed to the function. The task will use this memory instead of dynamically allocated stack space.</li> <li><code>pxTaskBuffer</code>: Pointer to the static task control block. The control block is used by FreeRTOS to manage task information (such as status, priority, stack pointer, etc.). This control block also needs to be allocated in advance.</li> <li><code>xCoreID</code>: <code>0</code>: Bound to core 0 (primary core). <code>1</code>: Bound to core 1. <code>tskNO_AFFINITY</code>: Not bound to a specific core, allowing FreeRTOS to schedule tasks on any core.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li><code>pdPASS</code>: Task creation is successful.</li> <li><code>pdFAIL</code>: Task creation failed.</li> </ul> <blockquote> <p>Example</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;freertos/FreeRTOS.h&quot;</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;freertos/task.h&quot;</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=c1>// Define static memory for task stack and task control block</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=k>static</span><span class=w> </span><span class=n>StackType_t</span><span class=w> </span><span class=n>myTaskStack</span><span class=p>[</span><span class=mi>2048</span><span class=p>];</span><span class=w> </span><span class=c1>// Task stack size is 2048 bytes</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=k>static</span><span class=w> </span><span class=n>StaticTask_t</span><span class=w> </span><span class=n>myTaskBuffer</span><span class=p>;</span><span class=w> </span><span class=c1>// Task control block</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=c1>// Define task function</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=kt>void</span><span class=w> </span><span class=nf>myTask</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvParameters</span><span class=p>)</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=p>{</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=p>{</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Running myTask on Core 1</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=n>vTaskDelay</span><span class=p>(</span><span class=n>pdMS_TO_TICKS</span><span class=p>(</span><span class=mi>1000</span><span class=p>));</span><span class=w> </span><span class=c1>// Delay 1 second</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=p>}</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=p>}</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=kt>void</span><span class=w> </span><span class=nf>app_main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=p>{</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=c1>// Create a task using static memory and bind it to core 0</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a><span class=n>xTaskCreateStaticPinnedToCore</span><span class=p>(</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a><span class=n>myTask</span><span class=p>,</span><span class=w> </span><span class=c1>// Task function</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a><span class=s>&quot;MyStaticTask&quot;</span><span class=p>,</span><span class=w> </span><span class=c1>// Task name</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a><span class=mi>2048</span><span class=p>,</span><span class=w> </span><span class=c1>// Task stack size</span>
</span><span id=__span-3-26><a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=c1>// Task parameters</span>
</span><span id=__span-3-27><a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=c1>// Task priority</span>
</span><span id=__span-3-28><a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a><span class=n>myTaskStack</span><span class=p>,</span><span class=w> </span><span class=c1>// Static stack memory</span>
</span><span id=__span-3-29><a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a><span class=o>&amp;</span><span class=n>myTaskBuffer</span><span class=p>,</span><span class=w> </span><span class=c1>// Static task control block</span>
</span><span id=__span-3-30><a id=__codelineno-3-30 name=__codelineno-3-30 href=#__codelineno-3-30></a><span class=mi>0</span><span class=w> </span><span class=c1>// Core ID (0 means bound to core 0)</span>
</span><span id=__span-3-31><a id=__codelineno-3-31 name=__codelineno-3-31 href=#__codelineno-3-31></a><span class=p>);</span>
</span><span id=__span-3-32><a id=__codelineno-3-32 name=__codelineno-3-32 href=#__codelineno-3-32></a><span class=p>}</span>
</span></code></pre></div> <h2 id=delay-and-blocking>DELAY AND BLOCKING<a class=headerlink href=#delay-and-blocking title="Permanent link">&para;</a></h2> <h3 id=vtaskdelay>vTaskDelay<a class=headerlink href=#vtaskdelay title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kt>void</span><span class=w> </span><span class=nf>vTaskDelay</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToDelay</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>vTaskDelay</code> is a function used to delay task execution. After calling the <code>vTaskDelay</code> function in a task, the task will pause for the specified time and then continue to execute.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xTicksToDelay</code>: Delay time, in FreeRTOS clock ticks. The frequency of the clock tick is defined by the <code>configTICK_RATE_HZ</code> macro in <code>FreeRTOSConfig.h</code>.</li> </ul> <blockquote> <p>Example</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kt>void</span><span class=w> </span><span class=nf>myTask</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvParameters</span><span class=p>)</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=p>{</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=p>{</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=n>printf</span><span class=p>(</span><span class=s>&quot;Hello from myTask</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>);</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=n>vTaskDelay</span><span class=p>(</span><span class=n>pdMS_TO_TICKS</span><span class=p>(</span><span class=mi>1000</span><span class=p>));</span><span class=w> </span><span class=c1>// Delay 1 second</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=p>}</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>Summary <code>vTaskDelay</code></p> </blockquote> <ul> <li>Function: <code>vTaskDelay</code> delays a task for a specified time, starting from the current time. This means that each time <code>vTaskDelay</code> is called, the starting point of the delay is the current time.</li> <li>Applicable scenarios: Suitable for tasks that need to be delayed for a fixed time based on the last call time (regardless of when it was called).</li> </ul> <h3 id=vtaskdelayuntil>vTaskDelayUntil<a class=headerlink href=#vtaskdelayuntil title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kt>void</span><span class=w> </span><span class=nf>vTaskDelayUntil</span><span class=p>(</span><span class=n>TickType_t</span><span class=w> </span><span class=o>*</span><span class=n>pxPreviousWakeTime</span><span class=p>,</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=n>TickType_t</span><span class=w> </span><span class=n>xTimeIncrement</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>vTaskDelayUntil</code> is a function for periodic task execution. After calling the <code>vTaskDelayUntil</code> function in a task, the task will be executed periodically at the specified time interval.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>pxPreviousWakeTime</code>: Pointer to the last wake-up time. When called for the first time, a pointer to 0 should be passed in.</li> <li><code>xTimeIncrement</code>: time interval in FreeRTOS ticks. The tick frequency is defined in <code>FreeRTOSConfig.h</code> by the <code>configTICK_RATE_HZ</code> macro.</li> </ul> <blockquote> <p>Example</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;freertos/FreeRTOS.h&quot;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;freertos/task.h&quot;</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;esp_log.h&quot;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=kt>void</span><span class=w> </span><span class=nf>taskA</span><span class=p>(</span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>param</span><span class=p>)</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=p>{</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>    </span><span class=n>TickType_t</span><span class=w> </span><span class=n>xLastWakeTime</span><span class=p>;</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>    </span><span class=k>const</span><span class=w> </span><span class=n>TickType_t</span><span class=w> </span><span class=n>xFrequency</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>pdMS_TO_TICKS</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span><span class=w> </span><span class=c1>// 500 ms</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=c1>// Initialize last wakeup time</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>    </span><span class=n>xLastWakeTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>xTaskGetTickCount</span><span class=p>();</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>    </span><span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>        </span><span class=n>ESP_LOGI</span><span class=p>(</span><span class=s>&quot;main&quot;</span><span class=p>,</span><span class=s>&quot;Hello world from CSW!&quot;</span><span class=p>);</span>
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a><span class=w>        </span><span class=c1>// Wait for next cycle</span>
</span><span id=__span-7-18><a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=w>        </span><span class=n>vTaskDelayUntil</span><span class=p>(</span><span class=o>&amp;</span><span class=n>xLastWakeTime</span><span class=p>,</span><span class=w> </span><span class=n>xFrequency</span><span class=p>);</span>
</span><span id=__span-7-19><a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-20><a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a><span class=p>}</span>
</span><span id=__span-7-21><a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a>
</span><span id=__span-7-22><a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a>
</span><span id=__span-7-23><a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=cm>/**</span>
</span><span id=__span-7-24><a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a><span class=cm> * @brief Entry point of the program</span>
</span><span id=__span-7-25><a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a><span class=cm> * @param None</span>
</span><span id=__span-7-26><a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a><span class=cm> * @retval None</span>
</span><span id=__span-7-27><a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a><span class=cm> */</span>
</span><span id=__span-7-28><a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a><span class=kt>void</span><span class=w> </span><span class=nf>app_main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span><span id=__span-7-29><a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a><span class=p>{</span>
</span><span id=__span-7-30><a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a><span class=w>    </span><span class=n>xTaskCreatePinnedToCore</span><span class=p>(</span><span class=n>taskA</span><span class=p>,</span><span class=w> </span><span class=s>&quot;helloworld&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>2048</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=nb>NULL</span><span class=p>,</span><span class=w> </span><span class=n>tskNO_AFFINITY</span><span class=p>);</span>
</span><span id=__span-7-31><a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>Summary <code>vTaskDelay</code></p> </blockquote> <ul> <li>Function: <code>vTaskDelayUntil</code> uses an "absolute time" concept for delay, which allows tasks to <strong>precisely control the execution period</strong>. The delay starts from a fixed reference point, which ensures that the task is executed at a fixed interval, even if there are other computational overheads in the task.</li> <li>Applicable scenarios: Suitable for periodic tasks, ensuring that the task is executed accurately at fixed intervals to avoid delay accumulation caused by other tasks or code.</li> </ul> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>In FreeRTOS, the frequency of the clock tick is defined by the <code>configTICK_RATE_HZ</code> macro. And the input time in the delay function is actually the system tick, not the physical world time, so for ease of use, FreeRTOS provides the <code>pdMS_TO_TICKS</code> macro to convert milliseconds to ticks.</p> </div> <h2 id=inter-task-synchronization>Inter-task synchronization<a class=headerlink href=#inter-task-synchronization title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Synchronization in RTOS refers to the collaborative working method between different tasks or between tasks and external events to ensure that multiple concurrently executed tasks are executed in the expected order or timing. "It involves the communication and coordination mechanism between threads or tasks, the purpose is to avoid data competition, solve race conditions, and ensure the correct behavior of the system.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Mutual exclusion means that a resource is only allowed to be accessed by one visitor at a time, which is unique and exclusive.</p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>A queue is a data structure used to transfer data between tasks. A queue is a first-in-first-out (FIFO) data structure. Tasks can put data into the queue and take data out of the queue.</p> </div> <h2 id=queue>Queue<a class=headerlink href=#queue title="Permanent link">&para;</a></h2> <h3 id=xqueuecreate>xQueueCreate<a class=headerlink href=#xqueuecreate title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>QueueHandle_t</span><span class=w> </span><span class=nf>xQueueCreate</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>UBaseType_t</span><span class=w> </span><span class=n>uxQueueLength</span><span class=p>,</span><span class=w> </span><span class=c1>// Queue length</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=k>const</span><span class=w> </span><span class=n>UBaseType_t</span><span class=w> </span><span class=n>uxItemSize</span><span class=p>);</span><span class=w> </span><span class=c1>// Size of each element in the queue</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xQueueCreate</code> is a function used to create a queue. A queue is a first-in-first-out (FIFO) data structure used to pass data between tasks.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li> <p><code>uxQueueLength</code>: The length of the queue, that is, the number of elements that can be stored in the queue.</p> </li> <li> <p><code>uxItemSize</code>: The size of each element in the queue, in bytes.</p> </li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li> <p>Queue handle: The queue was created successfully.</p> </li> <li> <p><code>NULL</code>: The queue was not created successfully.</p> </li> </ul> <h3 id=xqueuesend>xQueueSend<a class=headerlink href=#xqueuesend title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xQueueSend</span><span class=p>(</span><span class=n>QueueHandle_t</span><span class=w> </span><span class=n>xQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Queue handle</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvItemToQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Data pointer to be sent to the queue, copied to the queue</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToWait</span><span class=p>);</span><span class=w> </span><span class=c1>// Waiting time</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xQueueSend</code> is a function used to send data to a queue. After calling the <code>xQueueSend</code> function, the data will be sent to the queue.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xQueue</code>: Queue handle.</li> <li><code>pvItemToQueue</code>: Data pointer to be sent to the queue.</li> <li><code>xTicksToWait</code>: Waiting time, that is, the waiting time when the queue is full. If the queue is full, the task will wait for space to be available in the queue within the waiting time. If the waiting time is 0, the task will return immediately.</li> </ul> <h3 id=xqueuesendtoback>xQueueSendToBack<a class=headerlink href=#xqueuesendtoback title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xQueueSendToBack</span><span class=p>(</span><span class=n>QueueHandle_t</span><span class=w> </span><span class=n>xQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Queue handle</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvItemToQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Data pointer to be sent to the queue, copied to the queue</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToWait</span><span class=p>);</span><span class=w> </span><span class=c1>// Waiting time</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xQueueSendToBack</code> is a function used to send data to a queue. After calling the <code>xQueueSendToBack</code> function, the data will be sent to the queue at the end of the queue. Suitable for situations where it is clear that the data needs to be sent to the end of the queue.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xQueue</code>: Queue handle.</li> <li><code>pvItemToQueue</code>: Data pointer to be sent to the queue.</li> <li><code>xTicksToWait</code>: Waiting time, that is, the waiting time when the queue is full. If the queue is full, the task will wait for space to be available in the queue during the waiting time. If the wait time is 0, the task will return immediately.</li> </ul> <h3 id=xqueuereceive>xQueueReceive<a class=headerlink href=#xqueuereceive title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xQueueReceive</span><span class=p>(</span><span class=n>QueueHandle_t</span><span class=w> </span><span class=n>xQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Queue handle</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvBuffer</span><span class=p>,</span><span class=w> </span><span class=c1>// Buffer pointer for receiving data</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToWait</span><span class=p>);</span><span class=w> </span><span class=c1>// Waiting time</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xQueueReceive</code> is a function for receiving data from a queue. After calling the <code>xQueueReceive</code> function, data will be received from the queue.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xQueue</code>: Queue handle.</li> <li><code>pvBuffer</code>: Buffer pointer for receiving data.</li> </ul> <h3 id=xqueuesendfromisr>xQueueSendFromISR<a class=headerlink href=#xqueuesendfromisr title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xQueueSendFromISR</span><span class=p>(</span><span class=n>QueueHandle_t</span><span class=w> </span><span class=n>xQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Queue handle</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=k>const</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=o>*</span><span class=n>pvItemToQueue</span><span class=p>,</span><span class=w> </span><span class=c1>// Data pointer to be sent to the queue</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>BaseType_t</span><span class=w> </span><span class=o>*</span><span class=n>pxHigherPriorityTaskWoken</span><span class=p>);</span><span class=w> </span><span class=c1>// High priority task wake-up flag</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xQueueSendFromISR</code> is a function used to send data to a queue from an interrupt service routine (ISR). After calling the <code>xQueueSendFromISR</code> function, the data will be sent to the queue.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xQueue</code>: Queue handle.</li> <li><code>pvItemToQueue</code>: Data pointer to be sent to the queue.</li> <li><code>pxHigherPriorityTaskWoken</code>: High priority task wake-up flag. If a high priority task is woken up when sending data, this parameter is set to <code>pdTRUE</code>.</li> </ul> <h2 id=semaphore>Semaphore<a class=headerlink href=#semaphore title="Permanent link">&para;</a></h2> <h3 id=xsemaphorecreatebinary>xSemaphoreCreateBinary<a class=headerlink href=#xsemaphorecreatebinary title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>SemaphoreHandle_t</span><span class=w> </span><span class=nf>xSemaphoreCreateBinary</span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xSemaphoreCreateBinary</code> is a function used to create a binary semaphore. A binary semaphore is a semaphore with only two states, available and unavailable.</p> <blockquote> <p>Return value</p> </blockquote> <ul> <li> <p>Semaphore handle: semaphore creation is successful.</p> </li> <li> <p><code>NULL</code>: semaphore creation failed.</p> </li> </ul> <h3 id=xsemaphorecreatecounting>xSemaphoreCreateCounting<a class=headerlink href=#xsemaphorecreatecounting title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>SemaphoreHandle_t</span><span class=w> </span><span class=nf>xSemaphoreCreateCounting</span><span class=p>(</span><span class=k>const</span><span class=w> </span><span class=n>UBaseType_t</span><span class=w> </span><span class=n>uxMaxCount</span><span class=p>,</span><span class=w> </span><span class=c1>// Maximum count value</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=k>const</span><span class=w> </span><span class=n>UBaseType_t</span><span class=w> </span><span class=n>uxInitialCount</span><span class=p>);</span><span class=w> </span><span class=c1>// Initial count value</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xSemaphoreCreateCounting</code> is a function used to create a counting semaphore. A counting semaphore is a semaphore that can store multiple count values.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li> <p><code>uxMaxCount</code>: maximum count value.</p> </li> <li> <p><code>uxInitialCount</code>: initial count value.</p> </li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li> <p>Semaphore handle: semaphore creation is successful.</p> </li> <li> <p><code>NULL</code>: semaphore creation fails.</p> </li> </ul> <h3 id=xsemaphorecreatemutex>xSemaphoreCreateMutex<a class=headerlink href=#xsemaphorecreatemutex title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>SemaphoreHandle_t</span><span class=w> </span><span class=nf>xSemaphoreCreateMutex</span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xSemaphoreCreateMutex</code> is a function used to create a mutex semaphore. A mutex semaphore is a semaphore used to implement mutually exclusive access and is used to protect shared resources.</p> <blockquote> <p>Return value</p> </blockquote> <ul> <li> <p>Semaphore handle: semaphore creation is successful.</p> </li> <li> <p><code>NULL</code>: semaphore creation fails.</p> </li> </ul> <div class="admonition info"> <p class=admonition-title>Mutex</p> <p>A mutex is a synchronization mechanism used to implement mutually exclusive access. In FreeRTOS, mutexes are implemented by mutex semaphores. Mutexes ensure that only one task can access a shared resource at any time. Unlike binary semaphores, mutexes implement priority inheritance and priority inversion mechanisms to ensure that tasks can access shared resources in order of priority.</p> </div> <div class="admonition info"> <p class=admonition-title>Priority Flip</p> <p>Priority flip refers to the temporary occupation of resources by low-priority tasks, which causes high-priority tasks to be blocked or even further delayed by medium-priority tasks. Ultimately, the execution of high-priority tasks is indirectly delayed by low-priority tasks, a phenomenon known as priority flip.</p> </div> <p>A typical priority flip scenario is as follows: Suppose there are three tasks, with priorities from high to low: Task A, Task B, and Task C, and they share a resource (such as a mutex). Step 1: Low-priority Task C acquires the resource (lock) and is using it. Step 2: Before Task C releases the resource, high-priority Task A starts running and tries to access the same resource. But because the resource is already occupied by Task C, Task A is blocked, waiting for Task C to release the resource. Step 3: At this time, Task B, which has a priority between the two, starts running, and because its priority is higher than Task C, Task B will preempt the execution of Task C. Result: Due to the execution of Task B, the progress of Task C is delayed, causing Task A to be delayed as well. Even though Task A has the highest priority, it cannot be executed immediately because the medium-priority Task B indirectly blocks its execution. This situation is called priority flipping, because the execution of the low-priority task Task C blocks the execution of the high-priority task Task A, and the intervention of Task B makes the flipping effect more serious.</p> <p>Priority flipping can cause high-priority tasks of real-time systems to fail to complete on time, resulting in system performance degradation or instability. In real-time applications (such as control systems or communication systems), priority flipping can have serious consequences.</p> <p>FreeRTOS and many other RTOS use priority inheritance to solve the priority flipping problem. The principle of priority inheritance mechanism is as follows: When a low-priority task holds a resource and blocks a high-priority task, the low-priority task inherits the priority of the high-priority task until the resource is released. In the above example, after Task C blocks the high-priority Task A, it is temporarily promoted to the priority of Task A. In this way, Task C can continue to run before Task B and release resources as soon as possible, so that Task A can obtain resources and execute in time. Once Task C releases resources, its priority will be restored to the original level.</p> <h3 id=xsemaphoretake>xSemaphoreTake<a class=headerlink href=#xsemaphoretake title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xSemaphoreTake</span><span class=p>(</span><span class=n>SemaphoreHandle_t</span><span class=w> </span><span class=n>xSemaphore</span><span class=p>,</span><span class=w> </span><span class=c1>// semaphore handle</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToWait</span><span class=p>);</span><span class=w> </span><span class=c1>// waiting time</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xSemaphoreTake</code> is a function used to obtain a semaphore. After calling the <code>xSemaphoreTake</code> function, the task will try to acquire the semaphore.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li> <p><code>xSemaphore</code>: semaphore handle.</p> </li> <li> <p><code>xTicksToWait</code>: waiting time, that is, the waiting time when the semaphore is not available. If the semaphore is not available, the task will wait for the semaphore to be available within the waiting time. If the waiting time is 0, the task will return immediately.</p> </li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li> <p><code>pdPASS</code>: Successfully acquired the semaphore.</p> </li> <li> <p><code>pdFAIL</code>: Failed to acquire the semaphore.</p> </li> </ul> <h3 id=xsemaphoregive>xSemaphoreGive<a class=headerlink href=#xsemaphoregive title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xSemaphoreGive</span><span class=p>(</span><span class=n>SemaphoreHandle_t</span><span class=w> </span><span class=n>xSemaphore</span><span class=p>);</span><span class=w> </span><span class=c1>// Semaphore handle</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xSemaphoreGive</code> is a function used to release a semaphore. After calling the <code>xSemaphoreGive</code> function, the semaphore will be released.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xSemaphore</code>: semaphore handle.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li> <p><code>pdPASS</code>: Release semaphore successfully.</p> </li> <li> <p><code>pdFAIL</code>: Release semaphore failed.</p> </li> </ul> <h3 id=xsemaphoredelete>xSemaphoreDelete<a class=headerlink href=#xsemaphoredelete title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kt>void</span><span class=w> </span><span class=nf>vSemaphoreDelete</span><span class=p>(</span><span class=n>SemaphoreHandle_t</span><span class=w> </span><span class=n>xSemaphore</span><span class=p>);</span><span class=w> </span><span class=c1>// semaphore handle</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>vSemaphoreDelete</code> is a function used to delete a semaphore. After calling the <code>vSemaphoreDelete</code> function, the semaphore will be deleted.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xSemaphore</code>: semaphore handle.</li> </ul> <h2 id=event-groups-and-direct-task-notifications>Event Groups and Direct Task Notifications<a class=headerlink href=#event-groups-and-direct-task-notifications title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Event Groups</p> <p>Event groups are a mechanism for managing event notifications between tasks. Event groups allow tasks to wait for a combination of multiple events so that they can be woken up when any event occurs. Event groups are often used for synchronization and communication between tasks so that tasks can decide what to do next based on the state of the event.</p> </div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Event groups can replace semaphores in many cases.</p> </div> <div class="admonition note"> <p class=admonition-title>Event Bits</p> <p>Events in an event group are represented in bits, with each event bit corresponding to one event. The value of an event bit can be 0 or 1, indicating that the event has not occurred or has occurred. The size of an event group depends on the number of event bits, which is usually 8, 16, or 32 bits.</p> </div> <div class="admonition note"> <p class=admonition-title>Direct Task Notifications</p> <p>Direct task notifications are a mechanism for sending notifications to tasks. Unlike event groups, direct task notifications are one-to-one notification mechanisms, i.e., one notification can only wake up one task. Direct task notifications are often used for synchronization and communication between tasks so that tasks can decide what to do next based on the state of the notification.</p> </div> <h3 id=xeventgroupcreate>xEventGroupCreate<a class=headerlink href=#xeventgroupcreate title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>EventGroupHandle_t</span><span class=w> </span><span class=nf>xEventGroupCreate</span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xEventGroupCreate</code> is a function used to create an event group. An event group is a mechanism for managing event notifications between tasks.</p> <blockquote> <p>Return value</p> </blockquote> <ul> <li>Event group handle: Event group creation is successful.</li> <li><code>NULL</code>: Event group creation fails.</li> </ul> <h3 id=xeventgroupwaitbits>xEventGroupWaitBits<a class=headerlink href=#xeventgroupwaitbits title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=n>EventBits_t</span><span class=w> </span><span class=nf>xEventGroupWaitBits</span><span class=p>(</span><span class=n>EventGroupHandle_t</span><span class=w> </span><span class=n>xEventGroup</span><span class=p>,</span><span class=w> </span><span class=c1>// Event group handle</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=k>const</span><span class=w> </span><span class=n>EventBits_t</span><span class=w> </span><span class=n>uxBitsToWaitFor</span><span class=p>,</span><span class=w> </span><span class=c1>// Event bits to wait for</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=k>const</span><span class=w> </span><span class=n>BaseType_t</span><span class=w> </span><span class=n>xClearOnExit</span><span class=p>,</span><span class=w> </span><span class=c1>// Whether to clear event bits when exiting</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=k>const</span><span class=w> </span><span class=n>BaseType_t</span><span class=w> </span><span class=n>xWaitForAllBits</span><span class=p>,</span><span class=w> </span><span class=c1>// Whether to wait for all event bits</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToWait</span><span class=p>);</span><span class=w> </span><span class=c1>// Waiting time</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xEventGroupWaitBits</code> is a function used to wait for event bits in an event group. After calling the <code>xEventGroupWaitBits</code> function, the task will wait for the event bits in the event group.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xEventGroup</code>: Event group handle.</li> <li><code>uxBitsToWaitFor</code>: Event bits to wait for.</li> <li><code>xClearOnExit</code>: whether to clear the event bit on exit. If set to <code>pdTRUE</code>, the event bit is cleared on exit; if set to <code>pdFALSE</code>, the event bit is not cleared.</li> <li><code>xWaitForAllBits</code>: whether to wait for all event bits. If set to <code>pdTRUE</code>, wait for all event bits; if set to <code>pdFALSE</code>, wait for only any event bit.</li> <li><code>xTicksToWait</code>: Wait time, that is, the time to wait when the event bit does not occur. If the event bit does not occur, the task will wait for the event bit to occur within the wait time. If the wait time is 0, the task will return immediately.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li>The state of the event group after waiting.</li> <li><code>NULL</code>: The event group wait failed.</li> </ul> <h3 id=xeventgroupsetbits>xEventGroupSetBits<a class=headerlink href=#xeventgroupsetbits title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=n>EventBits_t</span><span class=w> </span><span class=nf>xEventGroupSetBits</span><span class=p>(</span><span class=n>EventGroupHandle_t</span><span class=w> </span><span class=n>xEventGroup</span><span class=p>,</span><span class=w> </span><span class=c1>// Event group handle</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=k>const</span><span class=w> </span><span class=n>EventBits_t</span><span class=w> </span><span class=n>uxBitsToSet</span><span class=p>);</span><span class=w> </span><span class=c1>// Event bits to set</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xEventGroupSetBits</code> is a function used to set event bits in an event group. After calling the <code>xEventGroupSetBits</code> function, the event bits in the event group will be set.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xEventGroup</code>: event group handle.</li> <li><code>uxBitsToSet</code>: event bits to be set.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li>The state of the event group after setting.</li> </ul> <h3 id=xeventgroupclearbits>xEventGroupClearBits<a class=headerlink href=#xeventgroupclearbits title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=n>EventBits_t</span><span class=w> </span><span class=nf>xEventGroupClearBits</span><span class=p>(</span><span class=n>EventGroupHandle_t</span><span class=w> </span><span class=n>xEventGroup</span><span class=p>,</span><span class=w> </span><span class=c1>// event group handle</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=k>const</span><span class=w> </span><span class=n>EventBits_t</span><span class=w> </span><span class=n>uxBitsToClear</span><span class=p>);</span><span class=w> </span><span class=c1>// event bits to be cleared</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xEventGroupClearBits</code> is a function used to clear event bits in an event group. After calling the <code>xEventGroupClearBits</code> function, the event bits in the event group will be cleared.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xEventGroup</code>: event group handle.</li> <li><code>uxBitsToClear</code>: event bits to be cleared.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li>The state of the event group after clearing.</li> <li><code>NULL</code>: event group clearing failed.</li> </ul> <div class="admonition note"> <p class=admonition-title>Direct Task Notifications</p> <p>Each RTOS task has an array of task notifications. Each task notification has a notification state of "pending" or "not pending", and a 32-bit notification value. Direct task notifications are events sent directly to the task, rather than indirectly to the task through an intermediate object (such as a queue, event group, or semaphore). Sending a "direct task notification" to a task sets the target task notification to the "suspended" state (this suspension is not a suspended task).</p> </div> <h3 id=xtasknotify>xTaskNotify<a class=headerlink href=#xtasknotify title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xTaskNotify</span><span class=p>(</span><span class=n>TaskHandle_t</span><span class=w> </span><span class=n>xTaskToNotify</span><span class=p>,</span><span class=w> </span><span class=c1>// Task handle to be notified</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=k>const</span><span class=w> </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>ulValue</span><span class=p>,</span><span class=w> </span><span class=c1>// Notification value</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=n>eNotifyAction</span><span class=w> </span><span class=n>eAction</span><span class=p>);</span><span class=w> </span><span class=c1>// Notification action</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xTaskNotify</code> is a function used to send notifications to a task. After calling the <code>xTaskNotify</code> function, the notification will be sent to the task.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>xTaskToNotify</code>: Task handle to be notified.</li> <li><code>ulValue</code>: Notification value.</li> <li><code>eAction</code>: Notification action. Notification action can be one of the following values:</li> <li><code>eNoAction</code>: Do nothing.</li> <li><code>eSetBits</code>: Set the task notification value.</li> <li><code>eIncrement</code>: Increment the task notification value.</li> <li><code>eSetValueWithOverwrite</code>: Set the task notification value. If the task already has a notification value, overwrite it.</li> <li><code>eSetValueWithoutOverwrite</code>: Set the task notification value. If the task already has a notification value, do not overwrite it.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li><code>pdPASS</code>: Notification sent successfully.</li> <li><code>pdFAIL</code>: Notification sent failed.</li> </ul> <h3 id=xtasknotifywait>xTaskNotifyWait<a class=headerlink href=#xtasknotifywait title="Permanent link">&para;</a></h3> <blockquote> <p>Function prototype</p> </blockquote> <div class="language-c highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=n>BaseType_t</span><span class=w> </span><span class=nf>xTaskNotifyWait</span><span class=p>(</span><span class=kt>uint32_t</span><span class=w> </span><span class=n>ulBitsToClearOnEntry</span><span class=p>,</span><span class=w> </span><span class=c1>// Bits to be cleared on entry</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=kt>uint32_t</span><span class=w> </span><span class=n>ulBitsToClearOnExit</span><span class=p>,</span><span class=w> </span><span class=c1>// Bits to be cleared on exit</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=kt>uint32_t</span><span class=w> </span><span class=o>*</span><span class=n>pulNotificationValue</span><span class=p>,</span><span class=w> </span><span class=c1>// Notification value</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=n>TickType_t</span><span class=w> </span><span class=n>xTicksToWait</span><span class=p>);</span><span class=w> </span><span class=c1>// Waiting time</span>
</span></code></pre></div> <blockquote> <p>Function introduction</p> </blockquote> <p><code>xTaskNotifyWait</code> is a function used to wait for task notification. After calling the <code>xTaskNotifyWait</code> function, the task will wait for the notification to arrive.</p> <blockquote> <p>Parameters</p> </blockquote> <ul> <li><code>ulBitsToClearOnEntry</code>: The bit to be cleared on entry.</li> <li><code>ulBitsToClearOnExit</code>: The bit to be cleared on exit.</li> <li><code>pulNotificationValue</code>: Notification value.</li> <li><code>xTicksToWait</code>: Waiting time, that is, the waiting time when the notification has not arrived. If the notification has not arrived, the task will wait for the notification to arrive within the waiting time. If the waiting time is 0, the task will return immediately.</li> </ul> <blockquote> <p>Return value</p> </blockquote> <ul> <li><code>pdPASS</code>: Waiting for notification is successful.</li> <li><code>pdFAIL</code>: Waiting for notification failed.</li> </ul> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank rel=noopener>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 ~ now | 🚀 Shuaiwen Cui (Shaun) </div> </div> <div class=md-social> <a href=http://www.cuishuaiwen.com/ target=_blank rel=noopener title=www.cuishuaiwen.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272h16v176c0 35.3 28.7 64 64 64h288c35.3 0 64-28.7 64-64V272h16c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1zM240 320h32c26.5 0 48 21.5 48 48v96H192v-96c0-26.5 21.5-48 48-48"/></svg> </a> <a href=https://github.com/Shuaiwen-Cui target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.linkedin.com/in/shaun-shuaiwen-cui/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://www.researchgate.net/profile/Shuaiwen-Cui target=_blank rel=noopener title=www.researchgate.net class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M0 32v448h448V32zm262.2 334.4c-6.6 3-33.2 6-50-14.2-9.2-10.6-25.3-33.3-42.2-63.6-8.9 0-14.7 0-21.4-.6v46.4c0 23.5 6 21.2 25.8 23.9v8.1c-6.9-.3-23.1-.8-35.6-.8-13.1 0-26.1.6-33.6.8v-8.1c15.5-2.9 22-1.3 22-23.9V225c0-22.6-6.4-21-22-23.9V193c25.8 1 53.1-.6 70.9-.6 31.7 0 55.9 14.4 55.9 45.6 0 21.1-16.7 42.2-39.2 47.5 13.6 24.2 30 45.6 42.2 58.9 7.2 7.8 17.2 14.7 27.2 14.7zm22.9-135c-23.3 0-32.2-15.7-32.2-32.2V167c0-12.2 8.8-30.4 34-30.4s30.4 17.9 30.4 17.9l-10.7 7.2s-5.5-12.5-19.7-12.5c-7.9 0-19.7 7.3-19.7 19.7v26.8c0 13.4 6.6 23.3 17.9 23.3 14.1 0 21.5-10.9 21.5-26.8h-17.9v-10.7h30.4c0 20.5 4.7 49.9-34 49.9m-116.5 44.7c-9.4 0-13.6-.3-20-.8v-69.7c6.4-.6 15-.6 22.5-.6 23.3 0 37.2 12.2 37.2 34.5 0 21.9-15 36.6-39.7 36.6"/></svg> </a> <a href=https://orcid.org/0000-0003-4447-6687 target=_blank rel=noopener title=orcid.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M294.7 188.2h-45.9V342h47.5c67.6 0 83.1-51.3 83.1-76.9 0-41.6-26.5-76.9-84.7-76.9M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m-80.8 360.8h-29.8V161.3h29.8zM160.3 98.5a19.6 19.6 0 1 1 0 39.2 19.6 19.6 0 1 1 0-39.2M300 369h-81V161.3h80.6c76.7 0 110.4 54.8 110.4 103.9 0 53.3-41.7 103.9-110 103.9z"/></svg> </a> <a href=https://twitter.com/ShuaiwenC target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "header.autohide", "navigation.footer", "navigation.indexes", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": {"Default": "default-tag", "Hardware": "hardware-tag", "Software": "software-tag"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.92b07e13.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>